{"version":3,"sources":["RealmApp.js","components/Card.js","components/Loading.js","components/LoginScreen.js","graphql/useTaskMutations.js","graphql/useTaskQueries.js","graphql/useTasks.js","components/StatusBadge.js","components/TaskContent.js","components/ButtonGroup.js","components/StatusChange.js","components/useChangeTaskStatusButton.js","components/TaskDetailModal.js","components/EditPermissionsModal.js","components/ProjectScreen.js","graphql/useProjects.js","components/Sidebar.js","TaskApp.js","graphql/RealmApolloProvider.js","App.js","serviceWorker.js","index.js"],"names":["RealmAppContext","React","createContext","useRealmApp","app","useContext","Error","RealmAppProvider","appId","children","useState","Realm","setApp","useEffect","currentUser","setCurrentUser","credentials","a","logIn","logOut","wrapped","Provider","value","Layout","styled","div","Card","props","Loading","size","margin","color","uiColors","gray","dark2","LoginScreen","mode","setMode","email","setEmail","password","setPassword","error","setError","isLoggingIn","setIsLoggingIn","handleLogin","e","emailPassword","handleAuthenticationError","handleRegistrationAndLogin","isValidEmailAddress","validator","isEmail","emailPasswordAuth","registerUser","err","Container","LoginFormRow","LoginHeading","type","label","placeholder","onChange","target","state","errorMessage","variant","onClick","ToggleContainer","ToggleText","ToggleLink","preventDefault","oldMode","parts","message","split","reason","length","trimStart","status","reasonRegex","match","groups","parseAuthenticationError","prevErr","LGCard","span","button","green","light2","h1","useTaskMutations","project","addTask","useAddTask","updateTask","useUpdateTask","deleteTask","useDeleteTask","AddTaskMutation","gql","UpdateTaskMutation","DeleteTaskMutation","TaskFieldsFragment","useMutation","update","cache","addedTask","data","modify","fields","tasks","existingTasks","writeFragment","fragment","addTaskMutation","task","variables","_id","ObjectId","_partition","partition","updateTaskMutation","updates","taskId","updatedTask","deleteTaskMutation","deletedTask","GetAllTasksQuery","useTasks","useQuery","loading","startPolling","stopPolling","useAllTasksInProject","StatusBadge","getColorForStatus","getTaskStatusDisplayName","nbsp","String","fromCharCode","TaskContent","TaskDescription","TaskName","name","ButtonGroup","css","direction","StatusChange","from","to","Button","LGButton","ButtonContent","TaskDetailModal","unselectTask","ChangeTaskStatusButton","fromStatus","toStatus","useChangeTaskStatusButton","open","Boolean","setOpen","EditPermissionsModal","isEditingPermissions","setIsEditingPermissions","teamMembers","setTeamMembers","newUserEmailError","setNewUserEmailError","functions","addTeamMember","removeTeamMember","getMyTeamMembers","updateTeamMembers","then","useTeamMembers","ContentContainer","ModalHeading","ModalText","AddTeamMemberInput","List","map","teamMember","ListItem","key","TeamMemberContainer","TeamMemberName","aria-label","className","inputValue","setInputValue","Row","InputContainer","aria-labelledby","disabled","result","styles","height","h2","p","ul","li","ProjectScreen","currentProject","TaskList","id","selectedTaskId","setSelectedTaskId","selectedTask","find","draftTask","setDraftTask","createDraftTask","deleteDraftTask","setDraftTaskName","submitDraftTask","useDraftTask","TaskListHeader","setProjectsFromChange","change","setProjects","fullDocument","memberOf","Sidebar","setCurrentProject","projects","customData","users","mongoClient","db","collection","changeWatcher","watch","return","useProjects","SidebarContainer","SectionHeading","SectionList","SectionListItem","isSelected","UserDetails","user","handleLogout","handleEditPermissions","light1","UserDetailsContainer","Username","profile","TextButton","TaskApp","gridAreaSidebar","gridAreaMain","createRealmApolloClient","link","HttpLink","uri","fetch","options","refreshCustomData","headers","Authorization","accessToken","InMemoryCache","ApolloClient","RealmApolloProvider","client","setClient","RequireLoggedInUser","App","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console"],"mappings":"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","file":"static/js/main.cf8930e4.chunk.js","sourcesContent":["import React from \"react\";\nimport * as Realm from \"realm-web\";\n\nconst RealmAppContext = React.createContext();\n\nexport const useRealmApp = () => {\n  const app = React.useContext(RealmAppContext);\n  if (!app) {\n    throw new Error(\n      `You must call useRealmApp() inside of a <RealmAppProvider />`\n    );\n  }\n  return app;\n};\n\nexport const RealmAppProvider = ({ appId, children }) => {\n  const [app, setApp] = React.useState(new Realm.App(appId));\n  React.useEffect(() => {\n    setApp(new Realm.App(appId));\n  }, [appId]);\n\n  // Wrap the Realm.App object's user state with React state\n  const [currentUser, setCurrentUser] = React.useState(app.currentUser);\n  async function logIn(credentials) {\n    await app.logIn(credentials);\n    // If successful, app.currentUser is the user that just logged in\n    setCurrentUser(app.currentUser);\n  }\n  async function logOut() {\n    // Log out the currently active user\n    await app.currentUser?.logOut();\n    // If another user was logged in too, they're now the current user.\n    // Otherwise, app.currentUser is null.\n    setCurrentUser(app.currentUser);\n  }\n\n  const wrapped = { ...app, currentUser, logIn, logOut };\n\n  return (\n    <RealmAppContext.Provider value={wrapped}>\n      {children}\n    </RealmAppContext.Provider>\n  );\n};\n","import React from \"react\";\nimport LGCard from \"@leafygreen-ui/card\";\nimport styled from \"@emotion/styled\";\n\nconst Layout = styled.div`\n  padding: 8px;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n`;\n\nexport default function Card({ children, ...props }) {\n  return (\n    <LGCard {...props}>\n      <Layout>{children}</Layout>\n    </LGCard>\n  );\n}\n","import React from \"react\";\nimport { uiColors } from \"@leafygreen-ui/palette\";\nimport GridLoader from \"react-spinners/GridLoader\";\n\nexport default function Loading() {\n  return <GridLoader size=\"15px\" margin=\"3px\" color={uiColors.gray.dark2} />;\n}\n","import React from \"react\";\nimport * as Realm from \"realm-web\";\nimport { useRealmApp } from \"../RealmApp\";\nimport styled from \"@emotion/styled\";\nimport Button from \"@leafygreen-ui/button\";\nimport TextInput from \"@leafygreen-ui/text-input\";\nimport LGCard from \"./Card\";\nimport { uiColors } from \"@leafygreen-ui/palette\";\nimport validator from \"validator\";\nimport Loading from \"./Loading\";\n\nexport default function LoginScreen() {\n  const app = useRealmApp();\n  // Toggle between logging users in and registering new users\n  const [mode, setMode] = React.useState(\"login\");\n  const toggleMode = () => {\n    setMode((oldMode) => (oldMode === \"login\" ? \"register\" : \"login\"));\n  };\n  // Keep track of form input state\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  // Keep track of input validation/errors\n  const [error, setError] = React.useState({});\n  // Whenever the mode changes, clear the form inputs\n  React.useEffect(() => {\n    setEmail(\"sampleemail@example.com\");\n    setPassword(\"password\");\n    setError({});\n  }, [mode]);\n\n  const [isLoggingIn, setIsLoggingIn] = React.useState(false);\n  const handleLogin = async () => {\n    setIsLoggingIn(true);\n    setError((e) => ({ ...e, password: null }));\n    try {\n      await app.logIn(Realm.Credentials.emailPassword(email, password));\n    } catch (err) {\n      handleAuthenticationError(err, setError);\n    }\n  };\n\n  const handleRegistrationAndLogin = async () => {\n    const isValidEmailAddress = validator.isEmail(email);\n    setError((e) => ({ ...e, password: null }));\n    if (isValidEmailAddress) {\n      try {\n        // Register the user and, if successful, log them in\n        await app.emailPasswordAuth.registerUser({ email, password });\n        return await handleLogin();\n      } catch (err) {\n        handleAuthenticationError(err, setError);\n      }\n    } else {\n      setError((err) => ({ ...err, email: \"Email is invalid.\" }));\n    }\n  };\n\n  return (\n    <Container>\n      {isLoggingIn ? (\n        <Loading />\n      ) : (\n        <Card>\n          <LoginFormRow>\n            <LoginHeading>\n              {mode === \"login\" ? \"Log In\" : \"Register an Account\"}\n            </LoginHeading>\n          </LoginFormRow>\n          <LoginFormRow>\n            <TextInput\n              type=\"email\"\n              label=\"Email\"\n              placeholder=\"your.email@example.com\"\n              onChange={(e) => {\n                setError((e) => ({ ...e, email: null }));\n                setEmail(e.target.value);\n              }}\n              value={email}\n              state={\n                error.email\n                  ? \"error\"\n                  : validator.isEmail(email)\n                  ? \"valid\"\n                  : \"none\"\n              }\n              errorMessage={error.email}\n            />\n          </LoginFormRow>\n          <LoginFormRow>\n            <TextInput\n              type=\"password\"\n              label=\"Password\"\n              placeholder=\"pa55w0rd\"\n              onChange={(e) => {\n                setPassword(e.target.value);\n              }}\n              value={password}\n              state={\n                error.password ? \"error\" : error.password ? \"valid\" : \"none\"\n              }\n              errorMessage={error.password}\n            />\n          </LoginFormRow>\n          {mode === \"login\" ? (\n            <Button variant=\"primary\" onClick={() => handleLogin()}>\n              Log In\n            </Button>\n          ) : (\n            <Button\n              variant=\"primary\"\n              onClick={() => handleRegistrationAndLogin()}\n            >\n              Register\n            </Button>\n          )}\n          <ToggleContainer>\n            <ToggleText>\n              {mode === \"login\"\n                ? \"Don't have an account?\"\n                : \"Already have an account?\"}\n            </ToggleText>\n            <ToggleLink\n              onClick={(e) => {\n                e.preventDefault();\n                toggleMode();\n              }}\n            >\n              {mode === \"login\" ? \"Register one now.\" : \"Log in instead.\"}\n            </ToggleLink>\n          </ToggleContainer>\n        </Card>\n      )}\n    </Container>\n  );\n}\n\nfunction handleAuthenticationError(err, setError) {\n  const { status, message } = parseAuthenticationError(err);\n  const errorType = message || status;\n  switch (errorType) {\n    case \"invalid username\":\n      setError((prevErr) => ({ ...prevErr, email: \"Invalid email address.\" }));\n      break;\n    case \"invalid username/password\":\n    case \"invalid password\":\n    case \"401\":\n      setError((err) => ({ ...err, password: \"Incorrect password.\" }));\n      break;\n    case \"name already in use\":\n    case \"409\":\n      setError((err) => ({ ...err, email: \"Email is already registered.\" }));\n      break;\n    case \"password must be between 6 and 128 characters\":\n    case \"400\":\n      setError((err) => ({\n        ...err,\n        password: \"Password must be between 6 and 128 characters.\",\n      }));\n      break;\n    default:\n      break;\n  }\n}\n\nfunction parseAuthenticationError(err) {\n  const parts = err.message.split(\":\");\n  const reason = parts[parts.length - 1].trimStart();\n  if (!reason) return { status: \"\", message: \"\" };\n  const reasonRegex = /(?<message>.+)\\s\\(status (?<status>[0-9][0-9][0-9])/;\n  const match = reason.match(reasonRegex);\n  const { status, message } = match?.groups ?? {};\n  return { status, message };\n}\n\nconst Card = styled(LGCard)`\n  width: 420px;\n`;\nconst ToggleContainer = styled.div`\n  margin-top: 8px;\n  font-size: 12px;\n  display: flex;\n  justify-content: center;\n`;\n\nconst ToggleText = styled.span`\n  line-height: 18px;\n`;\n\nconst ToggleLink = styled.button`\n  background: none;\n  border: none;\n  font-size: 12px;\n  color: ${uiColors.green.dark2};\n`;\n\nconst Container = styled.div`\n  height: 100vh;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  background: ${uiColors.gray.light2};\n`;\n\nconst LoginHeading = styled.h1`\n  margin: 0;\n  font-size: 32px;\n`;\n\nconst LoginFormRow = styled.div`\n  margin-bottom: 16px;\n`;\n","import { ObjectId } from \"bson\";\nimport { useMutation } from \"@apollo/client\";\nimport gql from \"graphql-tag\";\n\nexport default function useTaskMutations(project) {\n  return {\n    addTask: useAddTask(project),\n    updateTask: useUpdateTask(project),\n    deleteTask: useDeleteTask(project),\n  };\n}\n\nconst AddTaskMutation = gql`\n  mutation AddTask($task: TaskInsertInput!) {\n    addedTask: insertOneTask(data: $task) {\n      _id\n      _partition\n      name\n      status\n    }\n  }\n`;\n\nconst UpdateTaskMutation = gql`\n  mutation UpdateTask($taskId: ObjectId!, $updates: TaskUpdateInput!) {\n    updatedTask: updateOneTask(query: { _id: $taskId }, set: $updates) {\n      _id\n      _partition\n      name\n      status\n    }\n  }\n`;\n\nconst DeleteTaskMutation = gql`\n  mutation DeleteTask($taskId: ObjectId!) {\n    deletedTask: deleteOneTask(query: { _id: taskId }) {\n      _id\n      _partition\n      name\n      status\n    }\n  }\n`;\n\nconst TaskFieldsFragment = gql`\n  fragment TaskFields on Task {\n    _id\n    _partition\n    status\n    name\n  }\n`;\n\nfunction useAddTask(project) {\n  const [addTaskMutation] = useMutation(AddTaskMutation, {\n    // Manually save added Tasks into the Apollo cache so that Task queries automatically update\n    // For details, refer to https://www.apollographql.com/docs/react/data/mutations/#making-all-other-cache-updates\n    update: (cache, { data: { addedTask } }) => {\n      cache.modify({\n        fields: {\n          tasks: (existingTasks = []) => [\n            ...existingTasks,\n            cache.writeFragment({\n              data: addedTask,\n              fragment: TaskFieldsFragment,\n            }),\n          ],\n        },\n      });\n    },\n  });\n\n  const addTask = async (task) => {\n    const { addedTask } = await addTaskMutation({\n      variables: {\n        task: {\n          _id: new ObjectId(),\n          _partition: project.partition,\n          status: \"Open\",\n          ...task,\n        },\n      },\n    });\n    return addedTask;\n  };\n\n  return addTask;\n}\n\nfunction useUpdateTask(project) {\n  const [updateTaskMutation] = useMutation(UpdateTaskMutation);\n  const updateTask = async (task, updates) => {\n    const { updatedTask } = await updateTaskMutation({\n      variables: { taskId: task._id, updates },\n    });\n    return updatedTask;\n  };\n  return updateTask;\n}\n\nfunction useDeleteTask(project) {\n  const [deleteTaskMutation] = useMutation(DeleteTaskMutation);\n  const deleteTask = async (task) => {\n    const { deletedTask } = await deleteTaskMutation({\n      variables: { taskId: task._id },\n    });\n    return deletedTask;\n  };\n  return deleteTask;\n}\n","import React from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport gql from \"graphql-tag\";\n\nconst GetAllTasksQuery = gql`\n  query GetAllTasksForProject($partition: String!) {\n    tasks(query: { _partition: $partition }) {\n      _id\n      name\n      status\n    }\n  }\n`;\n\nexport function useAllTasksInProject(project) {\n  const { data, loading, error, startPolling, stopPolling } = useQuery(\n    GetAllTasksQuery,\n    {\n      variables: {\n        partition: project.partition,\n      },\n    }\n  );\n  React.useEffect(() => {\n    // check server for updates every 1000ms\n    startPolling(1000);\n    // stop polling server for data when component unmounts\n    return () => stopPolling();\n  }, [startPolling, stopPolling]);\n  if (error) {\n    throw new Error(`Failed to fetch tasks: ${error.message}`);\n  }\n\n  // If the query has finished, return the tasks from the result data\n  // Otherwise, return an empty list\n  const tasks = data?.tasks ?? [];\n  return {\n    tasks,\n    loading,\n  };\n}\n","import useTaskMutations from \"./useTaskMutations\";\nimport { useAllTasksInProject } from \"./useTaskQueries\";\n\nconst useTasks = (project) => {\n  const { tasks, loading } = useAllTasksInProject(project);\n  const { addTask, updateTask } = useTaskMutations(project);\n  return {\n    loading,\n    tasks,\n    updateTask,\n    addTask,\n  };\n};\nexport default useTasks;\n","import React from \"react\";\nimport Badge from \"@leafygreen-ui/badge\";\n\nexport default function StatusBadge({ status }) {\n  return (\n    <Badge variant={getColorForStatus(status)}>\n      {getTaskStatusDisplayName(status)}\n    </Badge>\n  );\n}\n\nconst getColorForStatus = (status) => {\n  switch (status) {\n    case \"Open\":\n      return \"blue\";\n    case \"InProgress\":\n      return \"yellow\";\n    case \"Complete\":\n      return \"green\";\n    default:\n      return \"gray\";\n  }\n};\n\nconst getTaskStatusDisplayName = (status) => {\n  if (status === \"InProgress\") {\n    // Add a non-breaking space so that the string is always a single line\n    const nbsp = String.fromCharCode(160);\n    return `In${nbsp}Progress`;\n  }\n  return status;\n};\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport StatusBadge from \"./StatusBadge\";\n\nexport default function TaskContent({ task }) {\n  return (\n    <TaskDescription>\n      <TaskName>{task.name}</TaskName>\n      <StatusBadge status={task.status} />\n    </TaskDescription>\n  );\n}\n\nconst TaskDescription = styled.div`\n  display: flex;\n  width: 100%;\n`;\nconst TaskName = styled.span`\n  flex-grow: 1;\n`;\n","import styled from \"@emotion/styled\";\nimport { css } from \"@emotion/core\";\n\nconst ButtonGroup = styled.div(\n  (props) => css`\n    display: flex;\n    flex-direction: ${props.direction === \"row\" ? \"row\" : \"column\"};\n    justify-content: center;\n    gap: 8px;\n    margin-top: 8px;\n  `\n);\nexport default ButtonGroup;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport StatusBadge from \"./StatusBadge\";\nimport ArrowRightIcon from \"@leafygreen-ui/icon/dist/ArrowRight\";\n\nexport default function StatusChange({ from, to }) {\n  return (\n    <Container>\n      <StatusBadge status={from} />\n      <ArrowRightIcon />\n      <StatusBadge status={to} />\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport LGButton from \"@leafygreen-ui/button\";\nimport StatusChange from \"./StatusChange\";\nimport useTaskMutations from \"../graphql/useTaskMutations\";\n\n// Use a hook to dynamically create status update buttons for the specified project\nexport default function useChangeTaskStatusButton(project) {\n  const { updateTask } = useTaskMutations(project);\n  const ChangeTaskStatusButton = ({ task, fromStatus, toStatus, children }) => {\n    return (\n      <Button onClick={() => updateTask(task, { status: toStatus })}>\n        <ButtonContent>\n          {children}\n          <StatusChange from={fromStatus} to={toStatus} />\n        </ButtonContent>\n      </Button>\n    );\n  };\n  return ChangeTaskStatusButton;\n}\n\nconst Button = styled(LGButton)`\n  height: 100%;\n`;\n\nconst ButtonContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 8px 0;\n  gap: 8px;\n`;\n","import React from \"react\";\nimport TaskContent from \"./TaskContent\";\nimport Modal from \"@leafygreen-ui/modal\";\nimport ButtonGroup from \"./ButtonGroup\";\nimport useChangeTaskStatusButton from \"./useChangeTaskStatusButton\";\n\nexport default function TaskDetailModal({ project, task, unselectTask }) {\n  const ChangeTaskStatusButton = useChangeTaskStatusButton(project);\n  return (\n    <Modal\n      open={Boolean(task)} // Show the modal if we passed a Task into the task prop.\n      setOpen={unselectTask} // When the user tries to close the modal, unset the Task to stop showing the modal\n    >\n      {task && (\n        <>\n          <TaskContent task={task} />\n          <ButtonGroup direction=\"row\">\n            {task.status === \"Open\" && (\n              <ChangeTaskStatusButton\n                task={task}\n                fromStatus=\"Open\"\n                toStatus=\"InProgress\"\n              >\n                Start Progress\n              </ChangeTaskStatusButton>\n            )}\n            {task.status === \"InProgress\" && (\n              <>\n                <ChangeTaskStatusButton\n                  task={task}\n                  fromStatus=\"InProgress\"\n                  toStatus=\"Open\"\n                >\n                  Stop Progress\n                </ChangeTaskStatusButton>\n                <ChangeTaskStatusButton\n                  task={task}\n                  fromStatus=\"InProgress\"\n                  toStatus=\"Complete\"\n                >\n                  Complete Task\n                </ChangeTaskStatusButton>\n              </>\n            )}\n            {task.status === \"Complete\" && (\n              <ChangeTaskStatusButton\n                task={task}\n                fromStatus=\"Complete\"\n                toStatus=\"InProgress\"\n              >\n                Resume Task\n              </ChangeTaskStatusButton>\n            )}\n          </ButtonGroup>\n        </>\n      )}\n    </Modal>\n  );\n}\n","import React from \"react\";\nimport { css } from \"@emotion/core\";\nimport styled from \"@emotion/styled\";\n\nimport LGButton from \"@leafygreen-ui/button\";\nimport Modal from \"@leafygreen-ui/modal\";\nimport XIcon from \"@leafygreen-ui/icon/dist/X\";\nimport PlusIcon from \"@leafygreen-ui/icon/dist/Plus\";\nimport IconButton from \"@leafygreen-ui/icon-button\";\nimport TextInput from \"@leafygreen-ui/text-input\";\nimport { uiColors } from \"@leafygreen-ui/palette\";\nimport { useRealmApp } from \"../RealmApp\";\n\nfunction useTeamMembers() {\n  const [teamMembers, setTeamMembers] = React.useState(null);\n  const [newUserEmailError, setNewUserEmailError] = React.useState(null);\n  const app = useRealmApp();\n  const { addTeamMember, removeTeamMember, getMyTeamMembers } =\n    app.currentUser.functions;\n  const updateTeamMembers = () => {\n    getMyTeamMembers().then(setTeamMembers);\n  };\n  // display team members on load\n  React.useEffect(updateTeamMembers, []);\n  return {\n    teamMembers,\n    errorMessage: newUserEmailError,\n    addTeamMember: async (email) => {\n      const { error } = await addTeamMember(email);\n      if (error) {\n        setNewUserEmailError(error);\n        return { error };\n      } else {\n        updateTeamMembers();\n      }\n    },\n    removeTeamMember: async (email) => {\n      await removeTeamMember(email);\n      updateTeamMembers();\n    },\n  };\n}\n\nexport default function EditPermissionsModal({\n  isEditingPermissions,\n  setIsEditingPermissions,\n}) {\n  const { teamMembers, errorMessage, addTeamMember, removeTeamMember } =\n    useTeamMembers();\n  return (\n    <Modal\n      open={isEditingPermissions}\n      setOpen={setIsEditingPermissions}\n      size=\"small\"\n    >\n      <ContentContainer>\n        <ModalHeading>Team Members</ModalHeading>\n        <ModalText>\n          These users can add, read, modify, and delete tasks in your project\n        </ModalText>\n        <ModalText>Add a new user by email:</ModalText>\n        <AddTeamMemberInput\n          addTeamMember={addTeamMember}\n          errorMessage={errorMessage}\n        />\n        <List>\n          {teamMembers?.length ? (\n            teamMembers.map((teamMember) => {\n              return (\n                <ListItem key={teamMember._id}>\n                  <TeamMemberContainer>\n                    <TeamMemberName>{teamMember.name}</TeamMemberName>\n                    <IconButton\n                      aria-label=\"remove-team-member-button\"\n                      className=\"remove-team-member-button\"\n                      onClick={async () => {\n                        await removeTeamMember(teamMember.name);\n                      }}\n                    >\n                      <XIcon />\n                    </IconButton>\n                  </TeamMemberContainer>\n                </ListItem>\n              );\n            })\n          ) : (\n            <ModalText>No team members</ModalText>\n          )}\n        </List>\n      </ContentContainer>\n    </Modal>\n  );\n}\n\nfunction AddTeamMemberInput({ addTeamMember, errorMessage }) {\n  const [inputValue, setInputValue] = React.useState(\"\");\n  return (\n    <Row>\n      <InputContainer>\n        <TextInput\n          type=\"email\"\n          aria-labelledby=\"team member email address\"\n          placeholder=\"some.email@example.com\"\n          state={errorMessage ? \"error\" : \"none\"}\n          errorMessage={errorMessage ?? \"Foo\"}\n          onChange={(e) => {\n            setInputValue(e.target.value);\n          }}\n          value={inputValue}\n        />\n      </InputContainer>\n      <Button\n        disabled={!inputValue}\n        onClick={async () => {\n          const result = await addTeamMember(inputValue);\n          if (!result?.error) {\n            setInputValue(\"\");\n          }\n        }}\n        styles={{ height: \"36px\" }}\n      >\n        <PlusIcon />\n        Add User\n      </Button>\n    </Row>\n  );\n}\n\nconst Button = styled(LGButton)`\n  height: 36px;\n`;\n\nconst Row = styled.div`\n  display: flex;\n  align-items: end;\n`;\nconst InputContainer = styled.div`\n  flex-grow: 1;\n`;\nconst ModalHeading = styled.h2`\n  margin: 0;\n  font-size: 24px;\n`;\nconst ModalText = styled.p`\n  margin: 8px 2px;\n`;\n\nconst ContentContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst List = styled.ul`\n  list-style: none;\n  padding: 8px 0;\n  margin: 0;\n`;\nconst ListItem = styled.li(\n  () => css`\n    padding: 8px 12px;\n    border-radius: 8px;\n    :hover {\n      background: ${uiColors.gray.light2};\n    }\n  `\n);\nconst TeamMemberContainer = styled.div`\n  display: flex;\n  align-items: center;\n`;\nconst TeamMemberName = styled.div`\n  flex-grow: 1;\n  padding: 8px 0;\n`;\n","import React from \"react\";\nimport styled from \"@emotion/styled\";\nimport useTasks from \"../graphql/useTasks\";\nimport TaskContent from \"./TaskContent\";\nimport TaskDetailModal from \"./TaskDetailModal\";\nimport EditPermissionsModal from \"./EditPermissionsModal\";\nimport Card from \"./Card\";\nimport Button from \"@leafygreen-ui/button\";\nimport ButtonGroup from \"./ButtonGroup\";\nimport TextInput from \"@leafygreen-ui/text-input\";\nimport { uiColors } from \"@leafygreen-ui/palette\";\n\nimport Loading from \"./Loading\";\n\nexport default function ProjectScreen({\n  currentProject,\n  isEditingPermissions,\n  setIsEditingPermissions,\n}) {\n  return (\n    <Container>\n      {currentProject && <TaskList currentProject={currentProject} />}\n      <EditPermissionsModal\n        isEditingPermissions={isEditingPermissions}\n        setIsEditingPermissions={setIsEditingPermissions}\n      />\n    </Container>\n  );\n}\n\nconst Container = styled.div`\n  height: 100vh;\n  justify-content: center;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  grid-area: main;\n  background: ${uiColors.gray.light2};\n`;\n\nfunction useDraftTask({ addTask }) {\n  const [draftTask, setDraftTask] = React.useState(null);\n  const createDraftTask = () => {\n    setDraftTask({ name: \"\" });\n  };\n  const deleteDraftTask = () => {\n    setDraftTask(null);\n  };\n  const setDraftTaskName = (name) => {\n    setDraftTask({ name });\n  };\n  const submitDraftTask = async () => {\n    await addTask(draftTask);\n    setDraftTask(null);\n  };\n  return {\n    draftTask,\n    createDraftTask,\n    deleteDraftTask,\n    setDraftTaskName,\n    submitDraftTask,\n  };\n}\n\nfunction TaskList({ currentProject }) {\n  const { tasks, addTask, loading } = useTasks(currentProject);\n  const getTaskById = (id) => tasks.find((task) => task._id === id);\n  const [selectedTaskId, setSelectedTaskId] = React.useState(null);\n  const selectedTask = getTaskById(selectedTaskId);\n\n  const {\n    draftTask,\n    createDraftTask,\n    deleteDraftTask,\n    setDraftTaskName,\n    submitDraftTask,\n  } = useDraftTask({ addTask });\n\n  return loading ? (\n    <Loading />\n  ) : (\n    <>\n      <List>\n        {tasks.length === 0 ? (\n          <TaskListHeader>\n            <h1>No Tasks</h1>\n            <p>Click the button below to add a task to this project</p>\n          </TaskListHeader>\n        ) : (\n          tasks.map((task) => (\n            <ListItem key={task._id}>\n              <Card onClick={() => setSelectedTaskId(task._id)}>\n                <TaskContent task={task} />\n              </Card>\n            </ListItem>\n          ))\n        )}\n        {draftTask ? (\n          <ListItem>\n            <Card>\n              <TextInput\n                type=\"text\"\n                aria-labelledby=\"task description\"\n                placeholder=\"Do the dishes\"\n                onChange={(e) => {\n                  setDraftTaskName(e.target.value);\n                }}\n                value={draftTask.name}\n              />\n              <ButtonGroup>\n                <Button\n                  variant=\"primary\"\n                  disabled={!draftTask.name}\n                  onClick={() => {\n                    submitDraftTask();\n                  }}\n                >\n                  Add\n                </Button>\n                <Button\n                  variant=\"danger\"\n                  onClick={() => {\n                    deleteDraftTask();\n                  }}\n                >\n                  Cancel\n                </Button>\n              </ButtonGroup>\n            </Card>\n          </ListItem>\n        ) : (\n          <ListItem>\n            <Card>\n              <Button onClick={() => createDraftTask()}>Add Task</Button>\n            </Card>\n          </ListItem>\n        )}\n      </List>\n      <TaskDetailModal\n        project={currentProject}\n        task={selectedTask}\n        unselectTask={setSelectedTaskId}\n      />\n    </>\n  );\n}\n\nconst List = styled.ul`\n  list-style-type: none;\n  padding-left: 0;\n  width: 400px;\n`;\nconst ListItem = styled.li`\n  :not(:first-of-type) {\n    margin-top: 8px;\n  }\n`;\n\nconst TaskListHeader = styled.div`\n  line-height: 24px;\n  letter-spacing: 0px;\n  text-align: center;\n  font-size: 16px;\n`;\n","import { useRealmApp } from \"../RealmApp\";\nimport React from \"react\";\n\nfunction setProjectsFromChange(change, setProjects) {\n  const {\n    fullDocument: { memberOf },\n  } = change;\n  setProjects(memberOf);\n}\n\nexport default function useProjects() {\n  const app = useRealmApp();\n  const [projects, setProjects] = React.useState(\n    app.currentUser.customData.memberOf\n  );\n  if (!app.currentUser) {\n    throw new Error(\"Cannot list projects if there is no logged in user.\");\n  }\n  const mongodb = app.currentUser.mongoClient(\"mongodb-atlas\");\n  const users = mongodb.db(\"tracker\").collection(\"User\");\n\n  // set asynchronous event watcher to react to any changes in the users collection\n  React.useEffect(() => {\n    let changeWatcher;\n    (async () => {\n      changeWatcher = users.watch();\n      for await (const change of changeWatcher) {\n        setProjectsFromChange(change, setProjects);\n      }\n    })();\n\n    // close connection when component unmounts\n    return () => changeWatcher.return();\n  });\n\n  return projects;\n}\n","import React from \"react\";\nimport { css } from \"@emotion/core\";\nimport styled from \"@emotion/styled\";\nimport { useRealmApp } from \"../RealmApp\";\nimport useProjects from \"../graphql/useProjects\";\nimport Card from \"./Card\";\nimport { uiColors } from \"@leafygreen-ui/palette\";\n\nexport default function Sidebar({\n  currentProject,\n  setCurrentProject,\n  setIsEditingPermissions,\n}) {\n  const projects = useProjects();\n  const app = useRealmApp();\n\n  return (\n    <SidebarContainer>\n      <Card>\n        <SectionHeading>Projects</SectionHeading>\n        <SectionList>\n          {projects.map((project) => (\n            <SectionListItem\n              key={project.partition}\n              onClick={() => setCurrentProject(project)}\n              isSelected={project.partition === currentProject?.partition}\n            >\n              {project.name}\n            </SectionListItem>\n          ))}\n        </SectionList>\n        <UserDetails\n          user={app.currentUser}\n          handleLogout={() => {\n            app.logOut();\n          }}\n          handleEditPermissions={() => {\n            setIsEditingPermissions(true);\n          }}\n        />\n      </Card>\n      <Card>\n        <SectionHeading>Something Else</SectionHeading>\n        <SectionList>\n          {projects.map((project) => (\n            <SectionListItem\n              key={project.partition}\n              onClick={() => setCurrentProject(project)}\n              isSelected={project.partition === currentProject?.partition}\n            >\n              {project.name}\n            </SectionListItem>\n          ))}\n        </SectionList>\n        <UserDetails\n          user={app.currentUser}\n          handleLogout={() => {\n            app.logOut();\n          }}\n          handleEditPermissions={() => {\n            setIsEditingPermissions(true);\n          }}\n        />\n      </Card>\n    </SidebarContainer>\n  );\n}\n\nconst SidebarContainer = styled.div`\n  display: flex;\n  background: ${uiColors.gray.light2};\n  flex-direction: column;\n  padding: 40px;\n`;\n\nconst SectionHeading = styled.h2`\n  margin: 0;\n  padding: 8px;\n`;\nconst SectionList = styled.ul`\n  list-style: none;\n  padding: 0;\n  margin: 0;\n`;\nconst SectionListItem = styled.li(\n  (props) => css`\n    padding: 8px 12px;\n    border-radius: 8px;\n    background: ${props.isSelected && uiColors.green.light2};\n    :hover {\n      background: ${!props.isSelected && uiColors.gray.light1};\n    }\n  `\n);\n\nfunction UserDetails({ user, handleLogout, handleEditPermissions }) {\n  return (\n    <UserDetailsContainer>\n      <Username>{user.profile.email}</Username>\n      <TextButton onClick={handleEditPermissions}>Manage My Project</TextButton>\n      <TextButton onClick={handleLogout}>Log Out</TextButton>\n    </UserDetailsContainer>\n  );\n}\n\nconst UserDetailsContainer = styled.div`\n  padding: 8px 0;\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Username = styled.div`\n  font-weight: bold;\n  text-align: center;\n  margin-bottom: 4px;\n`;\n\nconst TextButton = styled.button`\n  background: none;\n  border: none;\n  padding: 4px;\n  color: #069;\n  text-decoration: none;\n  cursor: pointer;\n  color: ${uiColors.green.dark2};\n`;\n","import React from \"react\";\nimport { css } from \"@emotion/core\";\nimport styled from \"@emotion/styled\";\nimport { useRealmApp } from \"./RealmApp\";\nimport ProjectScreen from \"./components/ProjectScreen\";\nimport Sidebar from \"./components/Sidebar\";\n\nexport default function TaskApp() {\n  const app = useRealmApp();\n  const [currentProject, setCurrentProject] = React.useState(\n    // set the current project as  \"My Project\"\n    app.currentUser.customData.memberOf[0]\n  );\n  const [isEditingPermissions, setIsEditingPermissions] = React.useState(false);\n  return (\n    <Container>\n      <Sidebar\n        css={gridAreaSidebar}\n        currentProject={currentProject}\n        setCurrentProject={setCurrentProject}\n        setIsEditingPermissions={setIsEditingPermissions}\n      ></Sidebar>\n      <ProjectScreen\n        css={gridAreaMain}\n        currentProject={currentProject}\n        isEditingPermissions={isEditingPermissions}\n        setIsEditingPermissions={setIsEditingPermissions}\n      />\n    </Container>\n  );\n}\n\nconst sidebarWidth = \"420px\";\nconst Container = styled.div`\n  box-sizing: border-box;\n  height: 100vh;\n  width: 100vh;\n  display: grid;\n  grid-template-columns: ${sidebarWidth} calc(100vw - ${sidebarWidth});\n  grid-template-rows: 1fr;\n  grid-template-areas: \"sidebar main\";\n`;\n\nconst gridAreaSidebar = css`\n  grid-area: sidebar;\n`;\nconst gridAreaMain = css`\n  grid-area: sidebar;\n`;\n","import React from \"react\";\nimport { useRealmApp } from \"../RealmApp\";\nimport {\n  ApolloClient,\n  HttpLink,\n  InMemoryCache,\n  ApolloProvider,\n} from \"@apollo/client\";\n\n// Create an ApolloClient that connects to the provided Realm.App's GraphQL API\nconst createRealmApolloClient = (app) => {\n  const link = new HttpLink({\n    // Realm apps use a standard GraphQL endpoint, identified by their App ID\n    uri: `https://realm.mongodb.com/api/client/v2.0/app/${app.id}/graphql`,\n    // A custom fetch handler adds the logged in user's access token to GraphQL requests\n    fetch: async (uri, options) => {\n      if (!app.currentUser) {\n        throw new Error(`Must be logged in to use the GraphQL API`);\n      }\n      // Refreshing a user's custom data also refreshes their access token\n      await app.currentUser.refreshCustomData();\n      // The handler adds a bearer token Authorization header to the otherwise unchanged request\n      options.headers.Authorization = `Bearer ${app.currentUser.accessToken}`;\n      return fetch(uri, options);\n    },\n  });\n\n  const cache = new InMemoryCache();\n\n  return new ApolloClient({ link, cache });\n};\n\nexport default function RealmApolloProvider({ children }) {\n  const app = useRealmApp();\n  const [client, setClient] = React.useState(createRealmApolloClient(app));\n  React.useEffect(() => {\n    setClient(createRealmApolloClient(app));\n  }, [app]);\n  return <ApolloProvider client={client}>{children}</ApolloProvider>;\n}\n","import React from \"react\";\nimport LoginScreen from \"./components/LoginScreen\";\nimport TaskApp from \"./TaskApp\";\nimport RealmApolloProvider from \"./graphql/RealmApolloProvider\";\nimport { useRealmApp, RealmAppProvider } from \"./RealmApp\";\n\nexport const APP_ID = \"tasktracker-aubpu\";\n\nconst RequireLoggedInUser = ({ children }) => {\n  // Only render children if there is a logged in user.\n  const app = useRealmApp();\n  return app.currentUser ? children : <LoginScreen />;\n};\n\nexport default function App() {\n  return (\n    <RealmAppProvider appId={APP_ID}>\n      <RequireLoggedInUser>\n        <RealmApolloProvider>\n          <TaskApp />\n        </RealmApolloProvider>\n      </RequireLoggedInUser>\n    </RealmAppProvider>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}